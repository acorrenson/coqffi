(library
  (name examples))

(rule
  (target File.v)
  (action (run coqffi -finterface %{cmi:file} -o %{target})))

(rule
  (target Sleep.v)
  (action (run coqffi %{cmi:sleep} -o %{target})))

(rule
  (target Rectypes.v)
  (action (run coqffi -ftransparent-types %{cmi:rectypes} -o %{target})))

(rule
  (target TransparentPolytype.v)
  (action (run coqffi -ftransparent-types %{cmi:polytype} -o %{target})))

(rule
  (target OpaquePolytype.v)
  (action (run coqffi %{cmi:polytype} -o %{target})))

(rule
  (target PolyPrim.v)
  (action (run coqffi %{cmi:polyprim} -o %{target})))

(rule
  (target Poly.v)
  (action (run coqffi -finterface %{cmi:poly} -o %{target})))

(rule
  (target Str.v)
  (action (run coqffi -r Examples.StrModels -finterface %{cmi:str} -o %{target})))

(rule
  (target Exn.v)
  (action (run coqffi -finterface %{cmi:exn} -o %{target})))

(coq.theory
  (name Examples)
  (theories CoqFFI))